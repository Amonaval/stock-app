(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,a){t.exports=a(18)},17:function(t,e,a){},18:function(t,e,a){"use strict";a.r(e);var c=a(0),n=a.n(c),o=a(8),r=a.n(o),s=(a(17),a(1)),i=a(2),l=a(4),u=a(3),m=a(5),d=a(10),k=a(9),h=(a(7),function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).getlastUpdateVal=function(t,e){var a="",c=Math.abs((new Date).getTime()-t.date),n=parseInt(c/36e5,10),o=Math.ceil(c/36e5%60,10);switch(e){case"textFomat":o&&(a=0===n&&o<2?"few secs":"".concat(o," min ")),n&&(a+="".concat(n," hr")),a+="  before";break;case"timeFormat":var r=new Date(t.date);a=r.getHours();var s=r.getMinutes(),i=r.getSeconds();a=a/12>1?"".concat(a%12," : ").concat(s," : ").concat(i," pm "):"".concat(a," : ").concat(s," : ").concat(i," am")}return a},a.listItems=function(){var t=a.state.stockData,e=Object(k.a)(Object.getOwnPropertyNames(t)).map(function(e){var a=t[e];return n.a.createElement("tr",{key:a.stockName},n.a.createElement("td",null,a.stockName),n.a.createElement("td",{bgcolor:a.color},a.stockPrice),n.a.createElement("td",{color:a.color},a.percentageChange),n.a.createElement("td",{className:"update-date"},a.displayDate))});return n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Ticker"),n.a.createElement("th",null,"Price"),n.a.createElement("th",null,"% change"),n.a.createElement("th",null,"Last Update")),e))},a.state={stockData:{}},a}return Object(m.a)(e,t),Object(i.a)(e,[{key:"componentWillReceiveProps",value:function(t){var e=this,a=Object(d.a)({},this.state.stockData);this.props.dataTick.forEach(function(t,c){var n=a[t.stockName];if(n){n.stockPrice<t.stockPrice&&(n.color="#CD5C5C"),n.stockPrice>t.stockPrice&&(n.color="#90EE90");var o=e.getlastUpdateVal(n,"timeFormat"),r=Math.round(100*(1-n.stockPrice/t.stockPrice)).toFixed(2);n.date=t.date,n.displayDate=o,n.stockPrice=Math.round(t.stockPrice).toFixed(3),n[t.stockName]=Math.round(t.stockPrice).toFixed(3),n.percentageChange="".concat(r," %")}else{var s=t;a[t.stockName]=s,a[t.stockName].displayDate=e.getlastUpdateVal(t,"timeFormat"),a[t.stockName].stockPrice=Math.round(t.stockPrice).toFixed(3)}}),this.setState({stockData:a})}},{key:"render",value:function(){return n.a.createElement("div",{className:"stock-list"},this.listItems())}}]),e}(c.Component)),p=function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={stockData:[],connectionState:0},a}return Object(m.a)(e,t),Object(i.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=new WebSocket("ws://stocks.mnet.website");this.setState({connectionState:e.readyState}),e.onclose=function(){return t.setState({connectionState:e.readyState})},e.onmessage=function(a){t.setState({connectionState:e.readyState});var c=[],n=a&&a.data&&JSON.parse(a.data);n&&n.forEach(function(t,e){var a={};a.stockName=t[0],a.stockPrice=t[1],a[t[0]]=t[1],a.color="",a.date=(new Date).getTime(),c.push(a)}),t.setState(function(t,e){return{stockData:c}})}}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"},1===this.state.connectionState&&n.a.createElement("div",{className:"stock-analyze"},n.a.createElement("h2",null,"Live Stock Ticker App"),n.a.createElement(h,{dataTick:this.state.stockData})),this.state.connectionState>1&&n.a.createElement("div",null,"Unable to establish socket connection. Please check internet or proxy settings of your machine"),0===this.state.connectionState&&n.a.createElement("div",null,"Connecting...")))}}]),e}(c.Component);r.a.render(n.a.createElement(p,null),document.getElementById("root"))},7:function(t,e,a){}},[[11,1,2]]]);
//# sourceMappingURL=main.03aa18aa.chunk.js.map